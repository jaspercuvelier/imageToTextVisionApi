<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image to Text RECOGNITION</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <style>.red{background-color: red;}</style>
</head>
<body>
<div class="container">
<h1 class="display-2">Image to text...</h1>


<div class="alert alert-primary" role="alert">
  <h4 class="alert-heading">Hoe werkt dit?</h4>
    <p>Neem een foto van een pagina uit het boek en zet die op je Chromebook.</p>
    <p>Surf naar <a href="https://cloud.google.com/vision/docs/drag-and-drop" target="_blank">deze site</a> en selecteer bij "TRY THE API" je foto.</a></p>
    <p>Google zal je vragen of je een robot bent en daarna de foto verwerken en proberen lezen...</p>
    <p>Je ziet nu normaal je foto met een groen kader errond. Onder de foto zie je een klein blauw linkje: "Show JSON"... Klik daar op.</p> 
    <p>Kopieer wat je ziet staan in het rechtervak bij "Response".</p>

 <hr>
  <p class="mb-0">Plak het hieronder in het tekstvak en klik op de knop "START"...</p>
</div>



<div class="mb-3">
  <label for="exampleFormControlTextarea1" class="form-label">Plak hier het 'JSON-resultaat'</label>
  <textarea class="form-control" id="json" rows="3"></textarea>
</div>


<button class="btn btn-primary mb-3" onclick="getResults()">START</button>


<div class="card">
  <div class="card-header">
    Het resultaat:
  </div>
  <div class="card-body">
  
    <p class="card-text" id="result"></p>
  
  </div>
</div>

</div>


    <script>
        function getResults(){
            var json = JSON.parse($("#json").val())
                console.log(json)
            var text = json.fullTextAnnotation.text.split('-\n').join('<span class="red">-</span>')    
            $("#result").html(text)    
        }
    
    </script>
</body>
</html>
